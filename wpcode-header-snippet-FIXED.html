<!-- Mesa Group Consulting - Blog Header Enhancement (Slide-out Panel + Header CTA) -->
<!-- WPCode: Set Code Type to "HTML Snippet" and Location to "Site Wide Body" -->

<!-- Slide-out Panel Backdrop -->
<div id="slideout-backdrop" style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:9998;opacity:0;visibility:hidden;transition:opacity 0.3s,visibility 0.3s;"></div>

<!-- Slide-out Panel -->
<div id="slideout-panel" style="position:fixed;top:0;right:-400px;width:90%;max-width:400px;height:100%;background:#ffffff;z-index:9999;overflow-y:auto;transition:right 0.3s ease;box-shadow:-4px 0 20px rgba(0,0,0,0.2);">
  <button id="slideout-close" style="position:absolute;top:16px;right:16px;width:36px;height:36px;border-radius:50%;background:#f3f4f6;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;">
    <svg width="20" height="20" style="overflow:visible;"><g transform="scale(0.833)"><path d="M18 6L6 18M6 6l12 12" fill="none" stroke="#374151" stroke-width="2" stroke-linecap="round"/></g></svg>
  </button>
  
  <div style="padding:60px 24px 24px;">
    <img src="https://mesagroupconsulting.com/mgc-mesa-group-consulting-black-svg-logo.svg.svg" alt="Mesa Group Consulting" style="max-width:200px;margin-bottom:24px;">
    
    <div style="margin-bottom:24px;">
      <h3 style="font-size:18px;font-weight:600;color:#1f2937;margin-bottom:12px;">Our Mission</h3>
      <p style="font-size:14px;line-height:1.6;color:#4b5563;">"Mesa Group Consulting was founded with a mission deeply rooted in family, faith, and financial empowerment: To help underserved communities thrive through professional credit counseling services. As first-generation Americans raised by hardworking immigrant parents from the Hispanic and Punjabi communities, we saw firsthand the struggles families face when trying to navigate credit, funding, and financial systems that often overlook them."</p>
    </div>
    
    <div style="margin-bottom:24px;background:#f9fafb;border-radius:12px;padding:16px;">
      <div style="display:flex;align-items:center;margin-bottom:12px;">
        <svg width="20" height="20" style="overflow:visible;"><g transform="scale(0.833)"><circle cx="12" cy="12" r="10" fill="none" stroke="#f9c65d" stroke-width="2"/><path d="M12 6v6l4 2" fill="none" stroke="#f9c65d" stroke-width="2" stroke-linecap="round"/></g></svg>
        <h4 style="font-size:16px;font-weight:600;color:#1f2937;margin-left:12px;">Hours of Operation</h4>
      </div>
      <p style="font-size:14px;color:#4b5563;line-height:1.8;margin:0;">
        Monday - Friday: 9:00 AM - 7:00 PM<br>
        Saturday: 10:00 AM - 2:00 PM<br>
        Sunday: Closed
      </p>
    </div>
    
    <div style="display:flex;flex-direction:column;gap:12px;margin-bottom:24px;">
      <!-- Phone -->
      <a href="tel:+16613103040" style="display:flex;align-items:center;padding:12px 16px;background:#f9fafb;border-radius:8px;text-decoration:none;color:#1f2937;">
        <span style="width:36px;height:36px;background:#f9c65d;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:12px;">
          <svg width="18" height="18" style="overflow:visible;"><g transform="scale(0.75)"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z" fill="none" stroke="#1f2937" stroke-width="2" stroke-linecap="round"/></g></svg>
        </span>
        <div>
          <div style="font-size:12px;color:#6b7280;">Phone</div>
          <div style="font-weight:500;">(661) 310-3040</div>
        </div>
      </a>
      
      <!-- Email - Copy to clipboard -->
      <a href="#" id="slideout-email-link" class="email-copy-link" data-email="contact@mesagroupconsulting.com" style="display:flex;align-items:center;padding:12px 16px;background:#f9fafb;border-radius:8px;text-decoration:none;color:#1f2937;cursor:pointer;">
        <span style="width:36px;min-width:36px;height:36px;background:#f9c65d;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:12px;">
          <svg width="18" height="18" style="overflow:visible;"><g transform="scale(0.75)"><rect width="20" height="16" x="2" y="4" rx="2" fill="none" stroke="#1f2937" stroke-width="2"/><path d="M22 7l-10 7L2 7" fill="none" stroke="#1f2937" stroke-width="2" stroke-linecap="round"/></g></svg>
        </span>
        <div>
          <div style="font-size:12px;color:#6b7280;">Email (click to copy)</div>
          <div style="font-weight:500;">contact@mesagroupconsulting.com</div>
        </div>
      </a>
      
      <!-- Address -->
      <a href="https://www.google.com/maps/dir//5001+California+Ave+Suite+219,+Bakersfield,+CA+93309" target="_blank" style="display:flex;align-items:center;padding:12px 16px;background:#f9fafb;border-radius:8px;text-decoration:none;color:#1f2937;">
        <span style="width:36px;height:36px;background:#f9c65d;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:12px;">
          <svg width="18" height="18" style="overflow:visible;"><g transform="scale(0.75)"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" fill="none" stroke="#1f2937" stroke-width="2"/><circle cx="12" cy="10" r="3" fill="none" stroke="#1f2937" stroke-width="2"/></g></svg>
        </span>
        <div>
          <div style="font-size:12px;color:#6b7280;">Address</div>
          <div style="font-weight:500;">5001 California Ave Suite 219<br>Bakersfield, CA 93309</div>
        </div>
      </a>
    </div>
    
    <!-- Social Links -->
    <div>
      <h4 style="font-size:14px;font-weight:600;color:#1f2937;margin-bottom:12px;">Connect With Us</h4>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <a href="https://www.facebook.com/mesagroupco" target="_blank" style="width:36px;height:36px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;">
          <svg width="16" height="16" style="overflow:visible;"><g transform="scale(0.667)"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" fill="#4b5563"/></g></svg>
        </a>
        <a href="https://www.instagram.com/mesagroupco/" target="_blank" style="width:36px;height:36px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;">
          <svg width="16" height="16" style="overflow:visible;"><g transform="scale(0.667)"><rect width="20" height="20" x="2" y="2" rx="5" fill="none" stroke="#4b5563" stroke-width="2"/><circle cx="12" cy="12" r="4" fill="none" stroke="#4b5563" stroke-width="2"/><circle cx="17.5" cy="6.5" r="1.5" fill="#4b5563"/></g></svg>
        </a>
        <a href="https://x.com/mesagroupco" target="_blank" style="width:36px;height:36px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;">
          <svg width="16" height="16" style="overflow:visible;"><g transform="scale(0.667)"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="#4b5563"/></g></svg>
        </a>
        <a href="https://www.linkedin.com/company/106433329/" target="_blank" style="width:36px;height:36px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;">
          <svg width="16" height="16" style="overflow:visible;"><g transform="scale(0.667)"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-4 0v7h-4v-7a6 6 0 0 1 6-6z" fill="#4b5563"/><rect width="4" height="12" x="2" y="9" fill="#4b5563"/><circle cx="4" cy="4" r="2" fill="#4b5563"/></g></svg>
        </a>
        <a href="https://www.tiktok.com/@mesagroupco" target="_blank" style="width:36px;height:36px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;">
          <svg width="16" height="16" style="overflow:visible;"><g transform="scale(0.667)"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z" fill="#4b5563"/></g></svg>
        </a>
        <a href="https://www.youtube.com/@MesaGroupCo" target="_blank" style="width:36px;height:36px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;">
          <svg width="16" height="16" style="overflow:visible;"><g transform="scale(0.667)"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z" fill="#4b5563"/><polygon points="9.75 15.02 15.5 11.75 9.75 8.48" fill="#f3f4f6"/></g></svg>
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Copy Toast -->
<div id="copy-toast" style="position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:#1a1a1a;color:#fff;padding:12px 24px;border-radius:8px;font-size:14px;font-weight:500;z-index:10001;opacity:0;visibility:hidden;transition:opacity 0.3s,visibility 0.3s;box-shadow:0 4px 12px rgba(0,0,0,0.3);">
  Copied!
</div>

<style>
#slideout-backdrop.open {
  opacity: 1 !important;
  visibility: visible !important;
}
#slideout-panel.open {
  right: 0 !important;
}
</style>

<script>
(function() {
  function init() {
    var panel = document.getElementById('slideout-panel');
    var backdrop = document.getElementById('slideout-backdrop');
    var closeBtn = document.getElementById('slideout-close');
    var copyToast = document.getElementById('copy-toast');
    
    // Show toast notification
    function showCopyToast() {
      if (copyToast) {
        copyToast.style.opacity = '1';
        copyToast.style.visibility = 'visible';
        setTimeout(function() {
          copyToast.style.opacity = '0';
          copyToast.style.visibility = 'hidden';
        }, 2000);
      }
    }
    
    // Copy email to clipboard
    function copyEmailToClipboard() {
      var email = 'contact@mesagroupconsulting.com';
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(email).then(function() {
          showCopyToast();
        }).catch(function() {
          fallbackCopy(email);
        });
      } else {
        fallbackCopy(email);
      }
    }
    
    // Fallback for older browsers
    function fallbackCopy(text) {
      var textArea = document.createElement('textarea');
      textArea.value = text;
      textArea.style.position = 'fixed';
      textArea.style.left = '-9999px';
      textArea.style.top = '0';
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      try {
        document.execCommand('copy');
        showCopyToast();
      } catch (err) {
        console.error('Copy failed:', err);
      }
      document.body.removeChild(textArea);
    }
    
    // Intercept email link clicks using capture phase
    document.addEventListener('click', function(e) {
      var target = e.target;
      while (target && target !== document) {
        // Check for email-copy-link class
        if (target.classList && target.classList.contains('email-copy-link')) {
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
          copyEmailToClipboard();
          return false;
        }
        // Check for mailto links
        if (target.tagName === 'A' && target.href && target.href.indexOf('mailto:contact@mesagroupconsulting') !== -1) {
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
          copyEmailToClipboard();
          return false;
        }
        target = target.parentNode;
      }
    }, true);
    
    // Slide-out panel functions
    function openPanel() {
      if (panel && backdrop) {
        panel.classList.add('open');
        backdrop.classList.add('open');
        document.body.style.overflow = 'hidden';
      }
    }
    
    function closePanel() {
      if (panel && backdrop) {
        panel.classList.remove('open');
        backdrop.classList.remove('open');
        document.body.style.overflow = '';
      }
    }
    
    // Inject header CTA elements (phone, client login, dot grid)
    var header = document.querySelector('.inside-header');
    if (header && !document.querySelector('.header-cta-wrapper')) {
      var phoneIcon = '<svg width="18" height="18" style="overflow:visible;"><g transform="scale(0.75)"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/></g></svg>';
      var ctaHtml = '<div class="header-cta-wrapper" style="display:flex;align-items:center;margin-left:auto;padding-left:1rem;">' +
        '<a href="tel:+16613103040" class="phone-cta" style="display:flex;align-items:center;color:#fff;text-decoration:none;font-size:14px;margin-right:1.5rem;">' +
          '<span style="display:flex;align-items:center;justify-content:center;width:36px;min-width:36px;height:36px;background:#374151;border-radius:50%;margin-right:12px;">' + phoneIcon + '</span>' +
          '<span style="display:flex;flex-direction:column;line-height:1.3;">' +
            '<span style="font-size:12px;color:rgba(255,255,255,0.7);">Have Questions?</span>' +
            '<span style="font-weight:600;">(661) 310-3040</span>' +
          '</span>' +
        '</a>' +
        '<span style="width:1px;height:40px;background:rgba(255,255,255,0.2);margin-right:1.5rem;"></span>' +
        '<a href="https://portal.mesagroupconsulting.com" target="_blank" class="client-login-btn" style="color:#fff;text-decoration:none;font-size:14px;margin-right:1.5rem;">Client Login</a>' +
        '<div class="dot-grid" id="dot-grid-trigger" style="display:inline-grid;grid-template-columns:repeat(3,1fr);gap:3px;cursor:pointer;padding:8px;">' +
          '<span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span><span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span><span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span>' +
          '<span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span><span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span><span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span>' +
          '<span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span><span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span><span style="width:4px;height:4px;background:#fff;border-radius:50%;"></span>' +
        '</div>' +
      '</div>';
      header.insertAdjacentHTML('beforeend', ctaHtml);
    }
    
    // Dot grid click handler (after injection)
    var dotGrid = document.getElementById('dot-grid-trigger');
    if (dotGrid) {
      dotGrid.addEventListener('click', openPanel);
    }
    
    // Close panel handlers
    if (closeBtn) {
      closeBtn.addEventListener('click', closePanel);
    }
    if (backdrop) {
      backdrop.addEventListener('click', closePanel);
    }
    
    // ESC key to close
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closePanel();
      }
    });
  }
  
  // Run when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
